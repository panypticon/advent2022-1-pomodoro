"use strict";(self.webpackChunkadvent2022_1_pomodoro=self.webpackChunkadvent2022_1_pomodoro||[]).push([[179],{280:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(r)?r:String(r)}function r(t,r,i){return(r=e(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function i(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e(n.key),n)}}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const s=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.progress=e.querySelector(".timer__inner"),this.min=e.querySelector(".timer__countdown #min"),this.sec=e.querySelector(".timer__countdown #sec"),this.trigger=e.querySelector(".timer__trigger"),this.set=e.querySelector(".timer__set"),!(this.progress&&this.min&&this.sec&&this.trigger&&this.set))throw new Error("Elements missing for initialization");this.root=document.querySelector(":root"),this.trigger.addEventListener("click",(function(){i.running?i.reset():i.runTimer()})),this.set.addEventListener("click",(function(){i.min.disabled=!1,i.sec.disabled=!1,i.min.focus()})),this.progress.addEventListener("change",(function(t){var e=t.target,n=e.name,s=e.value,u=Number.parseInt(s);i.setTime=o(o({},i.setTime),{},r({},n,-1===u?59:60===u?0:u)),i.renderTime()})),this.progress.addEventListener("submit",(function(t){return t.preventDefault()})),this.setTime={min:5,sec:0},this.duration=null,this.interval=null,this.running=!1,this.reset()}var e,n;return e=t,(n=[{key:"reset",value:function(){this.running=!1,clearInterval(this.interval),this.renderTime(),this.trigger.innerText="Start",this.root.style.setProperty("--color-active","#00aa51"),this.root.style.setProperty("--timer-state","100%"),this.set.disabled=!1}},{key:"runTimer",value:function(){var t=this;this.duration=new Date,this.duration.setMinutes(this.duration.getMinutes()+this.setTime.min),this.duration.setSeconds(this.duration.getSeconds()+this.setTime.sec),this.running=!0,this.trigger.innerText="Stop",this.set.disabled=!0,this.min.disabled=!0,this.sec.disabled=!0,this.interval=setInterval((function(){var e=(t.duration-Date.now())/1e3;t.renderTime(e),e<=0&&(clearInterval(t.interval),t.root.style.setProperty("--color-active","#9d0000"),t.root.style.setProperty("--timer-state","100%"),setTimeout((function(){return window.confirm("Time's up!")&&t.reset()}),0))}),1e3)}},{key:"renderTime",value:function(t){var e=Math.trunc(Math.round(t)/60),r=Math.round(t)%60,i=this.running?t/(60*this.setTime.min+this.setTime.sec)*100:100;this.root.style.setProperty("--timer-state","".concat(i,"%")),this.min.value=(this.running?e:this.setTime.min).toString().padStart(2,"0"),this.sec.value=(this.running?r:this.setTime.sec).toString().padStart(2,"0")}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("#timer");t&&new s(t)}))}},t=>{t(t.s=280)}]);